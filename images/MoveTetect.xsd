<?xml version="1.0" encoding="UTF-8"?>
<mxGraphModel dx="2066" dy="1118" grid="1" gridSize="1" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="584" pageHeight="826" background="#ffffff" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="49" value="" style="group" parent="1" vertex="1" connectable="0"><mxGeometry x="209" y="11" width="190" height="1449" as="geometry"/></mxCell><mxCell id="2" value="&lt;div&gt;Mat MoveDetect(&lt;/div&gt;&lt;div&gt;Mat background,&amp;nbsp;&lt;/div&gt;&lt;div&gt;Mat capture)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="22" width="143" height="72" as="geometry"/></mxCell><mxCell id="5" value="background,&lt;div&gt;&lt;span&gt;capture&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="49" vertex="1"><mxGeometry x="34" y="103" width="120" height="63" as="geometry"/></mxCell><mxCell id="33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="2" target="5" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="6" value="&lt;span&gt;cvtcolor(&lt;/span&gt;background,&lt;br&gt;&lt;span&gt;capture,&lt;/span&gt;&lt;span&gt;CV_BGR2GRAY&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;div&gt;&lt;span&gt;转换为灰度图&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="15" y="196" width="159" height="72" as="geometry"/></mxCell><mxCell id="34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="5" target="6" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="9" value="&lt;span&gt;background_gray,&lt;/span&gt;&lt;div&gt;capture_gray&lt;/div&gt;" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;" parent="49" vertex="1"><mxGeometry x="24" y="297" width="142" height="67" as="geometry"/></mxCell><mxCell id="35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="6" target="9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="10" value="absdiff(background_gray,&lt;br&gt;&lt;span&gt;capture_gray&lt;/span&gt;, diff);&lt;div&gt;获得帧差存储到diff中&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="13" y="398" width="163" height="80" as="geometry"/></mxCell><mxCell id="36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="9" target="10" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="11" value="帧差图diff" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="49" vertex="1"><mxGeometry x="35" y="512" width="120" height="60" as="geometry"/></mxCell><mxCell id="37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="10" target="11" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="12" value="erode()腐蚀&lt;div&gt;dilate()膨胀&lt;br&gt;&lt;/div&gt;&lt;div&gt;通过腐蚀然后膨胀&lt;span&gt;腐蚀膨胀消除噪声，这里使用获得矩形元素&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;getStructuringElement&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry y="798" width="190" height="95" as="geometry"/></mxCell><mxCell id="16" value="findContours()&lt;div&gt;&lt;span&gt;根据滤波后图片找到一个&lt;/span&gt;&lt;span&gt;椭圆的圆心及其其上用于描述轮廓的向量&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="13" y="993" width="164" height="83" as="geometry"/></mxCell><mxCell id="17" value="threshold()&lt;div&gt;二值化&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="35" y="621" width="120" height="60" as="geometry"/></mxCell><mxCell id="39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="11" target="17" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="19" target="12" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="19" value="&lt;span&gt;二值化后的帧差图diff&lt;/span&gt;" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;gradientColor=#b3b3b3;" parent="49" vertex="1"><mxGeometry x="10" y="720" width="170" height="53" as="geometry"/></mxCell><mxCell id="42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="17" target="19" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="20" value="&lt;div&gt;vector&amp;lt;vector&amp;lt;Point&amp;gt;&amp;gt; contours;&lt;/div&gt;&lt;div&gt;vector&amp;lt;Vec4i&amp;gt; hierarcy;&lt;/div&gt;" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#ffff88;strokeColor=#36393d;" parent="49" vertex="1"><mxGeometry x="7" y="1103" width="176" height="78" as="geometry"/></mxCell><mxCell id="45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="16" target="20" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="21" value="绘制椭圆到capture上" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="34" y="1206" width="120" height="60" as="geometry"/></mxCell><mxCell id="46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="20" target="21" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="22" value="result" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#ffcccc;strokeColor=#36393d;" parent="49" vertex="1"><mxGeometry x="34" y="1296" width="120" height="60" as="geometry"/></mxCell><mxCell id="47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="21" target="22" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="23" value="return result;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;" parent="49" vertex="1"><mxGeometry x="34" y="1389" width="120" height="60" as="geometry"/></mxCell><mxCell id="48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="22" target="23" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="25" target="16" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="25" value="&lt;span&gt;滤波后的diff&lt;/span&gt;" style="shape=parallelogram;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#eeeeee;strokeColor=#36393d;" parent="49" vertex="1"><mxGeometry x="35" y="913" width="120" height="60" as="geometry"/></mxCell><mxCell id="43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=2;strokeWidth=2;" parent="49" source="12" target="25" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell></root></mxGraphModel>